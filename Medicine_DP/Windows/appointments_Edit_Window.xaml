<Window x:Class="Medicine_DP.Windows.appointments_Edit_Window"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Medicine_DP.Windows"
        mc:Ignorable="d"
        Height="500" Width="600"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ID записи (только для отображения при редактировании) -->
        <TextBlock Grid.Row="0" Text="ID записи:" Visibility="{Binding ShowAppointmentId}"/>
        <TextBlock x:Name="txtAppointmentId" Grid.Row="0" Margin="120,0,0,5" 
                  Visibility="{Binding ShowAppointmentId}"/>

        <!-- Пациент -->
        <TextBlock Grid.Row="1" Text="Пациент:"/>
        <ComboBox x:Name="cbPatients" Grid.Row="1" Margin="120,0,0,5" 
                 DisplayMemberPath="FullName" SelectedValuePath="patient_id"/>

        <!-- Врач -->
        <TextBlock Grid.Row="2" Text="Врач:"/>
        <ComboBox x:Name="cbDoctors" Grid.Row="2" Margin="120,0,0,5" 
                 DisplayMemberPath="FullName" SelectedValuePath="employee_id"/>

        <!-- Услуга -->
        <TextBlock Grid.Row="3" Text="Услуга:"/>
        <ComboBox x:Name="cbServices" Grid.Row="3" Margin="120,0,0,5" 
                 DisplayMemberPath="service_name" SelectedValuePath="service_id"/>

        <!-- Кабинет -->
        <TextBlock Grid.Row="4" Text="Кабинет:"/>
        <ComboBox x:Name="cbRooms" Grid.Row="4" Margin="120,0,0,5" 
                 DisplayMemberPath="room_number" SelectedValuePath="room_id"/>

        <!-- Дата приема -->
        <TextBlock Grid.Row="5" Text="Дата приема:"/>
        <DatePicker x:Name="dpAppointmentDate" Grid.Row="5" Margin="120,0,0,5"/>

        <!-- Время приема -->
        <TextBlock Grid.Row="6" Text="Время приема:"/>
        <ComboBox x:Name="cbTimeSlots" Grid.Row="6" Margin="120,0,0,5"/>

        <!-- Статус -->
        <TextBlock Grid.Row="7" Text="Статус:"/>
        <ComboBox x:Name="cbStatus" Grid.Row="7" Margin="120,0,0,5">
            <ComboBoxItem Content="Запланирован" Tag="planned"/>
            <ComboBoxItem Content="Завершен" Tag="completed"/>
            <ComboBoxItem Content="Отменен" Tag="canceled"/>
        </ComboBox>

        <!-- Примечания -->
        <TextBlock Grid.Row="8" Text="Примечания:"/>
        <TextBox x:Name="txtNotes" Grid.Row="8" Margin="120,0,0,5" 
                TextWrapping="Wrap" AcceptsReturn="True"
                VerticalScrollBarVisibility="Auto" Height="80"/>

        <!-- Кнопки -->
        <StackPanel Grid.Row="9" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="btnSave" Content="Сохранить" Width="100" Margin="0,0,10,0" Click="Save_Click"/>
            <Button x:Name="btnCancel" Content="Отмена" Width="100" Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>
